<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title></title>
    <link rel='stylesheet' href='/stylesheets/style.css' />
    <link rel='stylesheet' href='/stylesheets/cal.css' />
  </head>
  <body>
    <div class="filters">
      <h5>find:</h5>
      <div id="searchfield">
        <input type="text" name="" class="biginput" id="autocomplete">
        </div>
      <div class="search_icons">
          <div class="search_icon"><img src="http://i.imgur.com/liUB50H.png" alt="restaurant" /></div>
          <div class="search_icon"><img src="http://i.imgur.com/BFiuOkx.png" alt="lodging" /></div>
          <div class="search_icon"><img src="http://i.imgur.com/kaicBix.png" alt="bar" /></div>
          <div class="search_icon"><img src="http://i.imgur.com/OIT3QVJ.png" alt="park" /></div>
      </div>
      <h5>near:</h5>
      <div id="locationField">
        <input id="autocompletemap" placeholder="Enter a city" type="text" />
      </div>
    </div>
    <div class="map_box">
      <div id="map"></div>
    </div>

    <div class="addtocalendar">
      Add activity to trip planner
      <form class="" action="/activities/<%= trip_id %>/new" method="post">
        Event Title
        <input type="text" name="event_title" value="" placeholder="Event Title"><br>
        Trip Day
        <select name="day">
          <% days.forEach(function(day) { %>
              <option class="day"+<%= day.id %>><%= day.date %></option>
          <% }) %>
        </select>
        Start Time
        <input type="time" name="start_time" value="" placeholder="time"><br>
        End Time
        <input type="time" name="end_time" value="" placeholder="time"><br>
        Place
        <input id="add_place_name" type="text" name="place" value=""><br>
        Address
        <input id="add_place_address" type="address" name="address" value=""><br>
        Coordinates (hidden)
        <input id="add_place_coords" type="text" name="coordinates" value=""><br>
        <input id="add_place_type" type="text" name="type" value=""><br>
        <input type="submit" id="addToCal" value="add to calendar">
      </form>
    </div>

    <div id="listing">
      <table id="resultsTable">
        <tbody id="results"></tbody>
      </table>
    </div>

    <div style="display: none">
      <div id="info-content">
        <table>
          <tr id="iw-url-row" class="iw_table_row">
            <td id="iw-icon" class="iw_table_icon"></td>
            <td id="iw-url"></td>
          </tr>
          <tr id="iw-address-row" class="iw_table_row">
            <td class="iw_attribute_name">Address:</td>
            <td id="iw-address"></td>
          </tr>
          <tr id="iw-phone-row" class="iw_table_row">
            <td class="iw_attribute_name">Telephone:</td>
            <td id="iw-phone"></td>
          </tr>
          <tr id="iw-rating-row" class="iw_table_row">
            <td class="iw_attribute_name">Rating:</td>
            <td id="iw-rating"></td>
          </tr>
          <tr id="iw-website-row" class="iw_table_row">
            <td class="iw_attribute_name">Website:</td>
            <td id="iw-website"></td>
          </tr>
          <tr id="iw-website-coords" class="iw_table_row">
            <td class="iw_attribute_name">Coords:</td>
            <td id="iw-coords"></td>
          </tr>
          <tr id="iw-website-type" class="iw_table_row">
            <td class="iw_attribute_name">Coords:</td>
            <td id="iw-type"></td>
          </tr>
          <tr id="iw-addto-calendar" class="iw_table_row">
            <td class="iw_attribute_name"></td>
            <td id="iw-calendar"><a href="#">Add to calendar</a></td>
          </tr>
        </table>
      </div>
    </div>

    <div id="calendar_box">
      <% days.forEach(function(day) { %>
        <div class="day_container">
          <h2><%= day.date %></h2>
          <div class="cal_day">
            <ul>
              <% activities.forEach(function(activity) {
                if (activity.day_id === day.id) { %>
                  <li><%= activity.name %></li>
              <% }
              }) %>
            </ul>
          </div>
        </div>
        <% }) %>
    </div>

    <script src="https://code.jquery.com/jquery-3.1.0.js" integrity="sha256-slogkvB1K3VOkzAI8QITxV3VzpOnkeNVsKvtkYLMjfk=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.devbridge-autocomplete/1.2.26/jquery.autocomplete.min.js"></script>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBTSj-FCBxjl1YBfJ2GngYKyajoobyKdVg&libraries=places&callback=initMap" async defer></script>
    <script type="text/javascript" src="/javascripts/map.js"></script>
    <script type="text/javascript" src="/javascripts/autocomplete.js"></script>
  </body>
</html>
